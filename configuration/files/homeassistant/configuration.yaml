
# Loads default set of integrations. Do not remove.
default_config:

# Text to speech
tts:
  - platform: google_translate
# Database
recorder:
  db_url: !secret psql_connector_string
  db_retry_wait: 10 # Wait 10 seconds before retrying
  exclude:
    domains:
      - automation
      - updater
    entity_globs:
      - sensor.weather_*
    entities:
      - sun.sun # Don't record sun data
      - sensor.last_boot # Comes from 'systemmonitor' sensor platform
      - sensor.date
    event_types:
      - call_service # Don't record service calls


automation: !include automations.yaml
scene: !include scenes.yaml
# recorder:
#   db_url: postgresql://postgresql:@postgres_db:5432/ha
sensor:
  - platform: mqtt_room
    device_id: "iBeacon:c737f23e-5c40-437e-b783-4e7ca40ad2e7_100_1"
    name: "Joaquin - Phone"
    timeout: 5
    away_timeout: 15
    state_topic: "espresense/rooms"

http:
  use_x_forwarded_for: true
  trusted_proxies:
    # intenal subnets
    - 192.168.0.0/24
    - 192.168.50.0/24
    - 192.168.1.0/24
    # docker subnet
    - 172.200.0.0/16